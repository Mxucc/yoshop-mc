import{c as s,w as e,n as a,i as t,o as c,a as l,f as o,b as r,d as i,F as h,e as n,l as u,I as d,t as f}from"./index-DkFyTsC9.js";import{_ as p}from"./_plugin-vue_export-helper.BCo6x5W8.js";const y=p({data:()=>({historySearch:[],searchValue:""}),onLoad(s){this.historySearch=this.getHistorySearch()},methods:{getHistorySearch:()=>uni.getStorageSync("historySearch")||[],onSearch(){const{searchValue:s}=this;s&&(this.setHistory(s),this.$navTo("pages/goods/list",{search:s}))},setHistory(s){const e=this.getHistorySearch(),a=e.indexOf(s);a>-1&&e.splice(a,1),e.unshift(s),this.historySearch=e,this.onUpdateStorage()},clearSearch(){this.historySearch=[],this.onUpdateStorage()},onUpdateStorage(s){uni.setStorageSync("historySearch",this.historySearch)},handleQuick(s){this.$navTo("pages/goods/list",{search:s})}}},[["render",function(p,y,S,_,g,k){const m=u,C=t,V=d;return c(),s(C,{class:"container",style:a(p.appThemeStyle)},{default:e((()=>[l(C,{class:"search-wrapper"},{default:e((()=>[l(C,{class:"search-input"},{default:e((()=>[l(C,{class:"search-input-wrapper"},{default:e((()=>[l(C,{class:"left"},{default:e((()=>[l(m,{class:"search-icon iconfont icon-search"})])),_:1}),l(C,{class:"right"},{default:e((()=>[l(V,{modelValue:g.searchValue,"onUpdate:modelValue":y[0]||(y[0]=s=>g.searchValue=s),class:"input",focus:"true",placeholder:"请输入您搜索的商品",type:"text"},null,8,["modelValue"])])),_:1})])),_:1})])),_:1}),l(C,{class:"search-button"},{default:e((()=>[l(C,{class:"button",onClick:k.onSearch},{default:e((()=>[o("搜索")])),_:1},8,["onClick"])])),_:1})])),_:1}),g.historySearch.length?(c(),s(C,{key:0,class:"history"},{default:e((()=>[l(C,{class:"his-head"},{default:e((()=>[l(m,{class:"title"},{default:e((()=>[o("最近搜索")])),_:1}),l(m,{class:"icon iconfont icon-delete",onClick:k.clearSearch},null,8,["onClick"])])),_:1}),l(C,{class:"his-list"},{default:e((()=>[(c(!0),r(h,null,i(g.historySearch,((a,t)=>(c(),s(C,{class:"his-item",key:t},{default:e((()=>[l(C,{class:"history-button",onClick:s=>k.handleQuick(a)},{default:e((()=>[o(f(a),1)])),_:2},1032,["onClick"])])),_:2},1024)))),128))])),_:1})])),_:1})):n("",!0)])),_:1},8,["style"])}],["__scopeId","data-v-bf4ce3be"]]);export{y as default};
